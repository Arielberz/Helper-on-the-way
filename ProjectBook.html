<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Helper on the Way â€” ×¡×¤×¨ ×¤×¨×•×™×§×˜ ××œ×</title>
  <style>
    :root{
      --bg:#ffffff;
      --ink:#0f172a;
      --muted:#475569;
      --line:#e2e8f0;
      --accent:#2563eb;
      --accent2:#16a34a;
      --warn:#f59e0b;
      --danger:#ef4444;
      --card:#f8fafc;
      --shadow: 0 10px 30px rgba(2,6,23,.08);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans Hebrew", "Heebo", sans-serif;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family:var(--sans); line-height:1.7;
      color:var(--ink); background:var(--bg);
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    .page{max-width:1080px; margin:0 auto; padding:28px 18px 90px}
    .topnav{
      position:sticky; top:0; z-index:50;
      background:rgba(255,255,255,.86);
      backdrop-filter:saturate(120%) blur(8px);
      border-bottom:1px solid var(--line);
    }
    .topnav .inner{max-width:1080px; margin:0 auto; padding:10px 18px; display:flex; gap:12px; align-items:center; justify-content:space-between}
    .topnav .left{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .chip{font-size:12px; color:var(--muted); border:1px solid var(--line); background:#fff; padding:5px 10px; border-radius:999px}
    .btn{font-size:12px; border:1px solid var(--line); background:#fff; padding:6px 10px; border-radius:10px; color:var(--ink)}
    .btn:hover{border-color:#cbd5e1}
    .cover{
      border:1px solid var(--line); border-radius:22px; padding:46px 34px;
      background: radial-gradient(1000px 500px at 10% 0%, #dbeafe 0%, rgba(219,234,254,0) 60%),
                  radial-gradient(900px 500px at 100% 10%, #dcfce7 0%, rgba(220,252,231,0) 55%),
                  linear-gradient(180deg, #ffffff, #fbfdff);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .badge{display:inline-flex; align-items:center; gap:6px; padding:6px 12px; border-radius:999px; font-size:13px;
      background:#eff6ff; border:1px solid #bfdbfe; margin:0 0 10px 8px}
    .badge.green{background:#ecfdf5; border-color:#a7f3d0}
    h1{font-size:44px; margin:10px 0 8px}
    .subtitle{font-size:18px; color:var(--muted); margin:0 0 18px; max-width: 68ch}
    .meta{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
    .meta .pill{background:#fff; border:1px solid var(--line); border-radius:999px; padding:7px 10px; font-size:13px; color:var(--muted)}
    .mono{font-family:var(--mono); direction:ltr; unicode-bidi:bidi-override; background:#f1f5f9; border:1px solid var(--line); padding:2px 6px; border-radius:10px}
    .hr{height:1px; background:var(--line); margin:26px 0}
    h2{font-size:30px; margin:40px 0 12px; padding-bottom:10px; border-bottom:1px solid var(--line)}
    h3{font-size:22px; margin:22px 0 8px}
    h4{font-size:16px; margin:16px 0 6px}
    p{margin:10px 0}
    ul,ol{margin:10px 0; padding-right:18px}
    li{margin:6px 0}
    .grid{display:grid; gap:14px; grid-template-columns:repeat(12, 1fr); margin:14px 0}
    .card{grid-column:span 6; background:#fff; border:1px solid var(--line); border-radius:16px; padding:14px 16px}
    .card.full{grid-column:span 12}
    .callout{border:1px solid var(--line); background:var(--card); border-radius:16px; padding:14px 16px; margin:14px 0}
    .callout strong{display:block; margin-bottom:6px}
    .kpis{display:flex; gap:10px; flex-wrap:wrap; margin-top:6px}
    .tag{display:inline-block; border:1px solid var(--line); background:#fff; color:var(--muted); border-radius:999px; padding:4px 10px; font-size:13px}
    pre{background:#0b1220; color:#e5e7eb; border:1px solid rgba(148,163,184,.22); border-radius:16px; padding:14px 16px; overflow:auto; direction:ltr; text-align:left; font-family:var(--mono); font-size:13px; line-height:1.55}
    .two-col{columns:2; column-gap:26px}
    .two-col p, .two-col li, .two-col .callout{break-inside:avoid}
    figure{margin:14px 0}
    figure .cap{font-size:13px; color:var(--muted); margin-top:6px}
    .shot{border:1px solid var(--line); border-radius:18px; overflow:hidden; background:#fff; box-shadow:0 8px 22px rgba(2,6,23,.06)}
    .shotbar{display:flex; gap:6px; padding:10px 12px; background:#f8fafc; border-bottom:1px solid var(--line); align-items:center}
    .dot{width:10px; height:10px; border-radius:999px; background:#cbd5e1}
    .shotbody{padding:12px}
    .foot{margin-top:48px; padding-top:14px; border-top:1px solid var(--line); color:var(--muted); font-size:13px}
    .pagebreak{break-before:page; page-break-before:always}
    .toc{margin-top:22px; border-top:1px solid var(--line); padding-top:18px}
    .toc ol{margin:0; padding-right:18px}
    .toc li{margin:7px 0}
    .toc .cols{display:grid; grid-template-columns:1fr 1fr; gap:6px 18px}
    .toc .cols ol{margin:0}
    .note{font-size:13px; color:var(--muted)}
    @media (max-width: 900px){
      h1{font-size:36px}
      .card{grid-column:span 12}
      .two-col{columns:1}
      .toc .cols{grid-template-columns:1fr}
    }
    @media print{
      .topnav{display:none}
      .page{max-width:none; padding:0.9cm 1.1cm}
      a{color:inherit; text-decoration:none}
      .cover{box-shadow:none}
    }
  </style>
</head>
<body>
  <header class="topnav">
    <div class="inner">
      <div class="left">
        <span class="chip">ğŸ“˜ ×¡×¤×¨ ×¤×¨×•×™×§×˜ â€¢ Helper on the Way</span>
        <span class="chip">RTL â€¢ ×§×•×‘×¥ HTML ××—×“</span>
        <span class="chip">×¢×“×›×•×Ÿ: 24/12/2025</span>
      </div>
      <div class="right">
        <a class="btn" href="#toc">×ª×•×›×Ÿ ×¢× ×™×™× ×™×</a>
        <a class="btn" href="#screens">×¦×™×œ×•××™ ××¡×š</a>
        <a class="btn" href="#api">API</a>
        <a class="btn" href="#summary">×¡×™×›×•×</a>
      </div>
    </div>
  </header>

  <main class="page">

    <section class="cover" id="cover">
      <div>
        <span class="badge">ğŸš— ×–××Ÿ ×××ª</span>
        <span class="badge green">ğŸ—ºï¸ Map + Chat + Live Location</span>
        <span class="badge">ğŸ”’ ××‘×˜×—×” + ×”×¨×©××•×ª</span>
        <span class="badge green">ğŸ’³ ×ª×©×œ×•× ××•×¤×¦×™×•× ×œ×™ (ILS)</span>
      </div>

      <h1>Helper on the Way</h1>
      <p class="subtitle">
        ××¤×œ×™×§×¦×™×™×ª Fullâ€‘Stack ×œ×¡×™×•×¢ ×‘×“×¨×›×™× ×‘×–××Ÿ ×××ª: × ×”×’ ×©× ×ª×§×¢ ×™×•×¦×¨ ×§×¨×™××ª ×¢×–×¨×” ×©××•×¤×™×¢×” ×¢×œ ××¤×”.
        ×¢×•×–×¨ ×§×¨×•×‘ ××§×‘×œ ××ª ×”×§×¨×™××”, × ×¤×ª×— ×¦×³××˜ ×¤×¨×˜×™ + ×©×™×ª×•×£ ××™×§×•× ×—×™, ×•×”××¢×¨×›×ª ×× ×”×œ×ª ×¡×˜×˜×•×¡×™×, ×“×™×¨×•×’ ×××™× ×•×ª ×•×ª×©×œ×•× ××•×¤×¦×™×•× ×œ×™ ×œ××—×¨ ×”×¢×–×¨×”.
      </p>

      <div class="meta">
        <span class="pill"><b>××—×‘×¨:</b> ××¨×™××œ ×× ×—× ×‘×¨×–×•×Ÿ</span>
        <span class="pill"><b>Repository:</b> <span class="mono">Arielberz/Helper-on-the-way</span></span>
        <span class="pill"><b>××‘× ×”:</b> <span class="mono">client/</span> + <span class="mono">server/</span> + Admin</span>
        <span class="pill"><b>×¡×˜××§:</b> React â€¢ Node/Express â€¢ MongoDB â€¢ Socket.IO</span>
      </div>

      <div class="toc" id="toc">
        <h3 style="margin-top:0">×ª×•×›×Ÿ ×¢× ×™×™× ×™×</h3>
        <div class="cols">
          <ol>
            <li><a href="#intro">××‘×•×, ×”×‘×¢×™×” ×•×”×¤×ª×¨×•×Ÿ</a></li>
            <li><a href="#goals">××˜×¨×•×ª, ×§×”×œ ×™×¢×“ ×•â€‘Use Cases</a></li>
            <li><a href="#architecture">××¨×›×™×˜×§×˜×•×¨×”</a></li>
            <li><a href="#data">××•×“×œ × ×ª×•× ×™× (DB) ×•×§×©×¨×™×</a></li>
            <li><a href="#client">Client â€” ××‘× ×” ×•â€‘UX</a></li>
            <li><a href="#realtime">Realtime â€” Socket.IO</a></li>
            <li><a href="#server">Server â€” ×©×›×‘×•×ª ×•â€‘Business Logic</a></li>
          </ol>
          <ol start="8">
            <li><a href="#admin">Admin â€” ×œ×•×— × ×™×”×•×œ ×•×”×¨×©××•×ª</a></li>
            <li><a href="#security">××‘×˜×—×” (Auth, RBAC, Payments)</a></li>
            <li><a href="#flows">×–×¨×™××•×ª ××¢×¨×›×ª (Flows)</a></li>
            <li><a href="#api">API â€” ×ª×™×¢×•×“ ×•×¢×§×¨×•× ×•×ª</a></li>
            <li><a href="#testing">×‘×“×™×§×•×ª ×•â€‘Troubleshooting</a></li>
            <li><a href="#deployment">×”×¨×¦×” ×•×¤×¨×™×¡×”</a></li>
            <li><a href="#screens">×¦×™×œ×•××™ ××¡×š / Mockups</a></li>
            <li><a href="#summary">×¡×™×›×•× ×•×”××©×š ×“×¨×š</a></li>
          </ol>
        </div>
        <p class="note">
          ××¡××š ×–×” × ×›×ª×‘ ×‘××‘× ×” â€œ×¡×¤×¨ ×¤×¨×•×™×§×˜â€ ×‘×¨××” ×©×œ ×¤×¨×•×™×§×˜ ×’××¨/×ª×™×§ ×¢×‘×•×“×•×ª/×¨××™×•×Ÿ.
          ×”×•× ××©×œ×‘ ×ª×™×¢×•×“ ××§×¦×•×¢×™ + ×ª×¨×©×™××™× + ×–×¨×™××•×ª ××¢×¨×›×ª + Mockups (×›×—×œ×•×¤×” ×œ×¦×™×œ×•××™ ××¡×š ×××™×ª×™×™×).
        </p>
      </div>
    </section>

    <div class="hr"></div>

    <section id="intro">
      <h2>1) ××‘×•×, ×”×‘×¢×™×” ×•×”×¤×ª×¨×•×Ÿ</h2>
      <div class="grid">
        <div class="card">
          <h4>×”×‘×¢×™×”</h4>
          <ul>
            <li>× ×”×’×™× × ×ª×§×¢×™× ×‘××¦×‘×™ ×—×™×¨×•× â€œ×§×˜× ×™×â€ (×¤× ×¦×³×¨/××¦×‘×¨/×“×œ×§) â€” ×•×”×ª×’×•×‘×” ××™×˜×™×ª/×œ× ××¡×•×“×¨×ª.</li>
            <li>×§×‘×•×¦×•×ª ×•×•××˜×¡××¤/×˜×œ×¤×•× ×™× ×œ× × ×•×ª× ×™× ×”×ª×××” ×œ×¤×™ <b>××¨×—×§</b> ×•×œ× ××™×™×¦×¨×™× <b>×××•×Ÿ</b>.</li>
            <li>××™×Ÿ â€œLifecycleâ€ ×‘×¨×•×¨: ×¤×ª×•×— â†’ ×”×ª×§×‘×œ â†’ ×‘×“×¨×š â†’ ×‘×•×¦×¢ â†’ ×“×™×¨×•×’/×ª×©×œ×•×.</li>
          </ul>
        </div>
        <div class="card">
          <h4>×”×¤×ª×¨×•×Ÿ</h4>
          <ul>
            <li>×”×¦×’×ª ×§×¨×™××•×ª ×¢×–×¨×” ×¢×œ <b>××¤×”</b> ×‘×–××Ÿ ×××ª.</li>
            <li>×§×‘×œ×” ××˜×•××™×ª ×©×œ ×§×¨×™××” ×¢×´×™ ×¢×•×–×¨, ×¤×ª×™×—×ª <b>×¦×³××˜ ×¤×¨×˜×™</b>, ×•â€‘<b>××™×§×•× ×—×™</b>.</li>
            <li>××¢×¨×›×ª ×××•×Ÿ: <b>×“×™×¨×•×’×™×</b> + ×”×™×¡×˜×•×¨×™×”.</li>
            <li>×ª×©×œ×•× ××•×¤×¦×™×•× ×œ×™ (×œ××©×œ ILS) ××—×¨×™ ×”×¢×–×¨×” â€” ××ª×•×¢×“ ×•×××•××ª.</li>
          </ul>
        </div>
      </div>

      <div class="callout">
        <strong>×”×—×–×•×Ÿ</strong>
        ×œ×”×¤×•×š ×¡×™×˜×•××¦×™×” ×©×œ â€œ× ×ª×§×¢×ª×™â€ ×œ×—×•×•×™×” ××•×‘× ×™×ª, ××”×™×¨×” ×•×‘×˜×•×—×”:
        ×¤×¢×•×œ×” ×§×¦×¨×” ××¦×“ ×”× ×”×’, ×”×ª×××” ×—×›××” ××¦×“ ×”××¢×¨×›×ª, ×•×©×§×™×¤×•×ª ××œ××” ×©×œ ×¡×˜×˜×•×¡/××™×§×•×/×ª×§×©×•×¨×ª.
      </div>
    </section>

    <section id="goals">
      <h2>2) ××˜×¨×•×ª, ×§×”×œ ×™×¢×“ ×•â€‘Use Cases</h2>
      <h3>2.1 ××˜×¨×•×ª ××•×¦×¨</h3>
      <div class="grid">
        <div class="card">
          <h4>KPIs ×¤×•× ×§×¦×™×•× ×œ×™×™×</h4>
          <ul>
            <li>×–××Ÿ ×™×¦×™×¨×ª ×§×¨×™××”: <b>&lt; 30 ×©× ×™×•×ª</b>.</li>
            <li>×”×ª×××”/×§×‘×œ×”: <b>××•×˜×•××˜×™×ª/×‘×¨×•×¨×”</b> ×œ×¤×™ ××¨×—×§.</li>
            <li>×©×§×™×¤×•×ª: ×¡×˜×˜×•×¡ ×§×¨×™××” ×•××™×§×•× ×¢×•×–×¨ ×–××™× ×™× ×‘×›×œ ×¨×’×¢.</li>
          </ul>
          <div class="kpis">
            <span class="tag">Speed</span><span class="tag">Trust</span><span class="tag">Realtime</span><span class="tag">Clarity</span>
          </div>
        </div>
        <div class="card">
          <h4>KPIs ×˜×›× ×•×œ×•×’×™×™×</h4>
          <ul>
            <li>× ×¤×™×œ×•×ª Socket ××˜×•×¤×œ×•×ª: reconnect + snapshot ×“×¨×š API.</li>
            <li>×× ×™×¢×ª â€œDouble Acceptâ€ ×œ×§×¨×™××”: ×¤×¢×•×œ×” ××˜×•××™×ª ×‘â€‘DB.</li>
            <li>Payments: ××˜×‘×¢ ×•×¡×›×•× × ×§×‘×¢×™× ×‘×©×¨×ª + ××™××•×ª ××•×œ ×¡×¤×§.</li>
          </ul>
          <div class="kpis">
            <span class="tag">Consistency</span><span class="tag">Security</span><span class="tag">Scalability</span>
          </div>
        </div>
      </div>

      <h3>2.2 Use Cases</h3>
      <ul>
        <li><b>UCâ€‘01</b> ×™×¦×™×¨×ª ×§×¨×™××”: × ×”×’ ×‘×•×—×¨ ×¡×•×’ ×ª×§×œ×” + ××™×§×•× â†’ ×”×§×¨×™××” â€œopenâ€.</li>
        <li><b>UCâ€‘02</b> ×§×‘×œ×ª ×§×¨×™××”: ×¢×•×–×¨ ×¨×•××” ×§×¨×™××•×ª ×‘×§×¨×‘×ª×• â†’ â€œacceptâ€ (× ×¢×™×œ×”) â†’ ×¦×³××˜.</li>
        <li><b>UCâ€‘03</b> ×©×™×ª×•×£ ××™×§×•×: ×”×¢×•×–×¨ ×©×•×œ×— ×¢×“×›×•× ×™× â†’ ×”× ×”×’ ×¨×•××” ×¢×œ ××¤×” + ETA.</li>
        <li><b>UCâ€‘04</b> ×¡×™×•×: ×©×™× ×•×™ ×¡×˜×˜×•×¡ ×œâ€‘done â†’ ×“×™×¨×•×’ â†’ ×ª×©×œ×•× ××•×¤×¦×™×•× ×œ×™.</li>
        <li><b>UCâ€‘05</b> Admin: × ×™×˜×•×¨, ×“×•×—×•×ª, ×—×¡×™××•×ª, ×•×ª×¦×•×’×ª ×ª×©×œ×•××™×.</li>
      </ul>
    </section>

    <div class="pagebreak"></div>

    <section id="architecture">
      <h2>3) ××¨×›×™×˜×§×˜×•×¨×”</h2>
      <p>
        ×”×¤×¨×•×™×§×˜ ×‘× ×•×™ ×‘××‘× ×” Fullâ€‘Stack ×©××“×’×™×© ×”×¤×¨×“×” ×©×›×‘×ª×™×ª:
        <span class="mono">Client</span> ×œ×”×¦×’×ª UI ×•×—×•×•×™×™×ª ××©×ª××©,
        <span class="mono">Server</span> ×œ×œ×•×’×™×§×” ×¢×¡×§×™×ª ×•××‘×˜×—×”,
        ×•â€‘<span class="mono">DB</span> ×›××§×•×¨ ×××ª.
        ×‘×–××Ÿ ×××ª (Realtime) ××ª×§×™×™× ×¢×¨×•×¥ Socket.IO ×œ×¦×“ REST.
      </p>

      <div class="grid">
        <div class="card full">
          <h4>×ª×¨×©×™× ×¨×›×™×‘×™× (Inline SVG)</h4>
          <figure class="shot">
            <div class="shotbar"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="cap">××¢×¨×›×ª â€” ×¨×›×™×‘×™× ×•×§×•×•×™ ×ª×§×©×•×¨×ª</span></div>
            <div class="shotbody">
              <svg viewBox="0 0 980 340" width="100%" height="auto" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <style>
                    .b{fill:#fff;stroke:#cbd5e1;stroke-width:2}
                    .t{font-family:Arial, sans-serif;font-size:14px;fill:#0f172a}
                    .m{font-family:Arial, sans-serif;font-size:12px;fill:#475569}
                    .l{stroke:#2563eb;stroke-width:2;fill:none}
                    .g{stroke:#16a34a;stroke-width:2;fill:none;stroke-dasharray:6 5}
                    .a{fill:#2563eb}
                  </style>
                  <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <path d="M0,0 L10,3 L0,6 Z" class="a"/>
                  </marker>
                </defs>

                <rect x="30" y="50" width="240" height="110" rx="16" class="b"/>
                <text x="60" y="85" class="t">Browser / Client (React SPA)</text>
                <text x="60" y="110" class="m">Map â€¢ Chat â€¢ Auth â€¢ Payments UI</text>
                <text x="60" y="132" class="m">Socket.IO Client</text>

                <rect x="30" y="210" width="240" height="90" rx="16" class="b"/>
                <text x="60" y="245" class="t">Admin UI</text>
                <text x="60" y="270" class="m">Protected Routes â€¢ Reports â€¢ Audit</text>

                <rect x="375" y="70" width="270" height="220" rx="16" class="b"/>
                <text x="405" y="105" class="t">Node.js / Express Server</text>
                <text x="405" y="130" class="m">REST API â€¢ JWT â€¢ RBAC</text>
                <text x="405" y="152" class="m">Socket.IO (realtime events)</text>
                <text x="405" y="174" class="m">Validation â€¢ Rate Limits â€¢ Logs</text>

                <rect x="730" y="70" width="220" height="110" rx="16" class="b"/>
                <text x="760" y="105" class="t">MongoDB</text>
                <text x="760" y="130" class="m">Users â€¢ Requests â€¢ Chats</text>
                <text x="760" y="152" class="m">Ratings â€¢ Payments</text>

                <rect x="730" y="205" width="220" height="85" rx="16" class="b"/>
                <text x="760" y="238" class="t">Payment Provider</text>
                <text x="760" y="262" class="m">Create/Approve/Capture</text>

                <path d="M270 95 H375" class="l" marker-end="url(#arrow)"/>
                <text x="286" y="82" class="m">HTTPS (REST)</text>

                <path d="M270 135 H375" class="g" marker-end="url(#arrow)"/>
                <text x="286" y="155" class="m">Socket.IO (WS)</text>

                <path d="M270 245 H375" class="l" marker-end="url(#arrow)"/>
                <text x="286" y="232" class="m">Admin REST</text>

                <path d="M645 130 H730" class="l" marker-end="url(#arrow)"/>
                <text x="656" y="116" class="m">Mongoose</text>

                <path d="M645 240 H730" class="l" marker-end="url(#arrow)"/>
                <text x="654" y="226" class="m">Verify/Capture</text>
              </svg>
            </div>
          </figure>
        </div>
      </div>

      <h3>3.1 ×œ××” ×’× REST ×•×’× Socket?</h3>
      <div class="callout">
        <strong>×¨×¢×™×•×Ÿ ××¨×›×–×™: â€œDB ×”×•× ××§×•×¨ ×××ª, Socket ×”×•× ×¢×¨×•×¥ ×¢×“×›×•×Ÿâ€</strong>
        <ul>
          <li><b>REST</b> â€” ×™×¦×™×‘, ×××•×‘×˜×— ×•×§×œ ×œ×“×™×‘×•×’: ×××¤×©×¨ ×œ×§×‘×œ <b>Snapshot</b> ×©×œ ××¦×‘ ×”××¢×¨×›×ª ×‘×›×œ ×¨×’×¢.</li>
          <li><b>Socket</b> â€” ×–××Ÿ ×××ª: ×”×•×“×¢×•×ª ×¦×³××˜, ×¢×“×›×•× ×™ ××™×§×•×, ×©×™× ×•×™ ×¡×˜×˜×•×¡ ×§×¨×™××”.</li>
          <li>×× ×”×œ×§×•×— ××ª× ×ª×§: ×”×•× ×—×•×–×¨ ×“×¨×š REST, ×•××– × ×¨×©× ×©×•×‘ ×œ××™×¨×•×¢×™ Socket.</li>
        </ul>
      </div>
    </section>

    <section id="data">
      <h2>4) ××•×“×œ × ×ª×•× ×™× (DB) ×•×§×©×¨×™×</h2>
      <p>
        ××•×“×œ ×”× ×ª×•× ×™× × ×•×¢×“ ×œ×ª××•×š ×‘â€‘Lifecycle ×©×œ ×§×¨×™××” + realtime + ×ª×©×œ×•× + ×××•×Ÿ.
        ×–×”×• â€œ×œ×‘â€ ×”××¢×¨×›×ª, ×›×™ ××× ×• × ×™×ª×Ÿ ×œ×©×—×–×¨ ××ª ×›×œ ×”××¦×‘ ×’× ×‘×œ×™ Socket.
      </p>

      <div class="grid">
        <div class="card full">
          <h4>ERD (×ª×¨×©×™× ×§×©×¨×™× â€” Inline SVG)</h4>
          <figure class="shot">
            <div class="shotbar"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="cap">Users â†” Requests â†” Chats/Payments/Ratings</span></div>
            <div class="shotbody">
              <svg viewBox="0 0 980 380" width="100%" height="auto" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <style>
                    .box{fill:#fff;stroke:#cbd5e1;stroke-width:2}
                    .h{font-family:Arial, sans-serif;font-size:14px;fill:#0f172a;font-weight:700}
                    .f{font-family:Arial, sans-serif;font-size:12px;fill:#475569}
                    .rel{stroke:#2563eb;stroke-width:2;fill:none}
                    .lbl{font-family:Arial, sans-serif;font-size:12px;fill:#2563eb}
                  </style>
                </defs>

                <rect x="40" y="40" width="240" height="150" rx="16" class="box"/>
                <text x="60" y="70" class="h">User</text>
                <text x="60" y="95" class="f">_id</text>
                <text x="60" y="115" class="f">email, phone, username</text>
                <text x="60" y="135" class="f">passwordHash</text>
                <text x="60" y="155" class="f">role, ratingAvg, ratingCount</text>

                <rect x="370" y="30" width="260" height="180" rx="16" class="box"/>
                <text x="390" y="60" class="h">Request</text>
                <text x="390" y="85" class="f">_id, type, description</text>
                <text x="390" y="105" class="f">location {lat,lng}</text>
                <text x="390" y="125" class="f">status (open/accepted/...)</text>
                <text x="390" y="145" class="f">requesterId (User)</text>
                <text x="390" y="165" class="f">helperId (User)</text>
                <text x="390" y="185" class="f">timestamps</text>

                <rect x="700" y="40" width="240" height="130" rx="16" class="box"/>
                <text x="720" y="70" class="h">Chat</text>
                <text x="720" y="95" class="f">requestId</text>
                <text x="720" y="115" class="f">participants [User]</text>
                <text x="720" y="135" class="f">messages[]</text>

                <rect x="700" y="220" width="240" height="130" rx="16" class="box"/>
                <text x="720" y="250" class="h">Payment</text>
                <text x="720" y="275" class="f">requestId</text>
                <text x="720" y="295" class="f">amount, currency (ILS)</text>
                <text x="720" y="315" class="f">provider, status</text>

                <rect x="370" y="250" width="260" height="120" rx="16" class="box"/>
                <text x="390" y="280" class="h">Rating</text>
                <text x="390" y="305" class="f">requestId</text>
                <text x="390" y="325" class="f">fromUserId â†’ toUserId</text>
                <text x="390" y="345" class="f">stars, comment</text>

                <path d="M280 95 H370" class="rel"/>
                <text x="295" y="85" class="lbl">1..*</text>
                <path d="M280 155 H370" class="rel"/>
                <text x="295" y="145" class="lbl">1..*</text>

                <path d="M630 100 H700" class="rel"/>
                <text x="642" y="90" class="lbl">1..1</text>

                <path d="M630 140 C690 140 680 250 700 250" class="rel"/>
                <text x="640" y="205" class="lbl">0..1</text>

                <path d="M500 210 V250" class="rel"/>
                <text x="512" y="236" class="lbl">0..1</text>
              </svg>
            </div>
          </figure>
        </div>
      </div>

      <div class="callout">
        <strong>×‘×—×™×¨×” ×¢×™×¦×•×‘×™×ª</strong>
        ×‘××§×•× â€œ×œ×”×—×–×™×§ ××¦×‘â€ ×¨×§ ×‘×–×™×›×¨×•×Ÿ, ×©×•××¨×™× DB ×›â€‘source of truth:
        <ul>
          <li>×‘â€‘Request × ×©××¨ ×¡×˜×˜×•×¡ + ××™ ×§×™×‘×œ (helperId) + ××™×§×•× ××—×¨×•×Ÿ ×‘××™×“×ª ×”×¦×•×¨×š.</li>
          <li>×‘â€‘Chat × ×©××¨×•×ª ×”×•×“×¢×•×ª (××• ×œ×¤×—×•×ª ××—×¨×•× ×•×ª) ×›×“×™ ×©×”×™×¡×˜×•×¨×™×” ×œ× ×ª×œ×š ×œ××™×‘×•×“.</li>
          <li>×‘â€‘Payment × ×©××¨ ×¡×˜×˜×•×¡ ×¡×¤×§, ××˜×‘×¢, ×•×¡×›×•× â€” ×œ×¦×•×¨×š Audit ×‘××“××™×Ÿ.</li>
        </ul>
      </div>
    </section>

    <div class="pagebreak"></div>

    <section id="client">
      <h2>5) Client â€” ××‘× ×” ×•â€‘UX</h2>
      <h3>5.1 ×¢×§×¨×•× ×•×ª UX</h3>
      <ul>
        <li><b>××¤×” ×”×™× ×”××¡×š ×”×¨××©×™</b> â€” ×›×“×™ ×©×”××©×ª××© â€œ×™×¨××” ××¦×‘â€ ×‘×œ×™ ×œ×—×¤×©.</li>
        <li><b>×¤×¢×•×œ×•×ª ×§×¦×¨×•×ª</b> â€” ×™×¦×™×¨×ª ×§×¨×™××” / ×§×‘×œ×” / ×©×œ×™×—×ª ×”×•×“×¢×”.</li>
        <li><b>×”×¤×¨×“×” ×‘×¨×•×¨×”</b> ×‘×™×Ÿ â€œ×§×¨×™××”â€ ×œ×‘×™×Ÿ â€œ×©×™×—×”â€ (××‘×œ ×¢× ××™× ×˜×’×¨×¦×™×” ×”×“×•×§×”: ETA ×‘×ª×•×š ×¦×³××˜).</li>
      </ul>

      <div class="grid">
        <div class="card">
          <h4>××‘× ×” ××•××œ×¥ ×‘×¤×¨×•× ×˜</h4>
          <pre>client/
  src/
    pages/      (Map, Chat, Profile, Payments, Admin)
    components/ (RequestCard, ChatWindow, MapMarkers, ETAWidget)
    services/   (apiClient, socketClient, geo/eta)
    context/    (AuthContext, ChatContext, AdminContext)</pre>
        </div>
        <div class="card">
          <h4>×¢×§×¨×•× ×•×ª ×§×•×“ ×—×©×•×‘×™×</h4>
          <ul>
            <li><b>API layer</b> ××¨×›×–×™: ×”×•×¡×¤×ª Authorization header + ×˜×™×¤×•×œ 401.</li>
            <li><b>Socket layer</b> ××—×“: connect/reconnect + joinRoom.</li>
            <li><b>Optimistic UI</b> ×¨×§ ×”×™×›×Ÿ ×©×‘×˜×•×— (×œ××©×œ ×©×œ×™×—×ª ×”×•×“×¢×” ×¢× retry).</li>
          </ul>
        </div>
      </div>

      <div class="callout">
        <strong>×˜×™×¤ ×œ×¨××™×•×Ÿ</strong>
        ×œ×”×¡×‘×™×¨ ×œ××” ×‘×—×¨×ª SPA: ××¢×‘×¨ ××”×™×¨ ×‘×™×Ÿ ××¤×” â†” ×¦×³××˜ â†” ×¤×¨×•×¤×™×œ,
        ×‘×œ×™ refresh, ×•×¡× ×›×¨×•×Ÿ realtime ×˜×‘×¢×™ ×™×•×ª×¨.
      </div>
    </section>

    <section id="realtime">
      <h2>6) Realtime â€” Socket.IO</h2>
      <p>
        Realtime ×‘×¤×¨×•×™×§×˜ ×”×•× ×œ× â€œ×ª×•×¡×£â€ â€” ×”×•× ×œ×‘ ×”×—×•×•×™×”:
        ××”×¨×’×¢ ×©×¢×•×–×¨ ×§×™×‘×œ ×§×¨×™××”, × ×•×¦×¨×ª ×ª×§×©×•×¨×ª ×¤×¨×˜×™×ª (Room) ×©××¨×›×–×ª:
        ×”×•×“×¢×•×ª, ××™×§×•×, ×•×©×™× ×•×™ ×¡×˜×˜×•×¡×™×.
      </p>

      <h3>6.1 ××•×“×œ Rooms ×•××™×¨×•×¢×™×</h3>
      <pre>
// Room per request:
room = `request:${requestId}`

// Client -> Server:
chat:send          { requestId, text }
location:update    { requestId, lat, lng, ts }
request:status     { requestId, status } // (helper-only)

// Server -> Client:
chat:message       { requestId, message }
location:updated   { requestId, lat, lng, ts }
request:status     { requestId, status }</pre>

      <h3>6.2 Sequence Diagram (×˜×§×¡×˜×•××œ×™)</h3>
      <pre>
Driver                     Server                     Helper
  |  create request (REST)  |                         |
  |------------------------>|  save(Request=open)     |
  |                         |--broadcast(optional)--->|
  |                         |                         |
  |            helper accepts (REST/Socket)           |
  |<--------------------------------------------------|
  |                         | atomic update: open->accepted, helperId
  |                         | create chat + join room
  |<------------------------| emit request:status
  |                         |
  |  chat:send              |                         |
  |------------------------>| validate + save message  |
  |<------------------------| emit chat:message        |
  |                         |------------------------>|
  |  location:update        |                         |
  |------------------------>| throttle + save lastLoc  |
  |<------------------------| emit location:updated    |
  |                         |------------------------>|</pre>

      <div class="callout">
        <strong>××¤×ª×— ×œ×××™× ×•×ª</strong>
        ×›×œ ××™×¨×•×¢ ×—×©×•×‘ × ×©××¨ ×’× ×‘â€‘DB. Socket ×¨×§ â€œ××¤×™×¥â€.
        ×›×š, ×’× ××—×¨×™ ×¨×¢× ×•×Ÿ ×“×£ / × ×¤×™×œ×ª ×¨×©×ª â€” × ×™×ª×Ÿ ×œ×”××©×™×š ×××•×ª×• ××¦×‘.
      </div>
    </section>

    <div class="pagebreak"></div>

    <section id="server">
      <h2>7) Server â€” ×©×›×‘×•×ª ×•â€‘Business Logic</h2>

      <div class="grid">
        <div class="card">
          <h4>×©×›×‘×ª Routes / Controllers</h4>
          <ul>
            <li>×§×‘×œ×ª ×‘×§×©×•×ª HTTP ×•×”×—×–×¨×ª ×ª×©×•×‘×” ××—×™×“×”.</li>
            <li>×§×¨×™××” ×œ×©×›×‘×ª Services/Logic.</li>
            <li>×× ×™×¢×ª â€œ×“×œ×™×¤×ª ×œ×•×’×™×§×”â€ ×œâ€‘route.</li>
          </ul>
        </div>
        <div class="card">
          <h4>×©×›×‘×ª Services</h4>
          <ul>
            <li>×œ×•×’×™×§×ª ×§×¨×™××•×ª: ×™×¦×™×¨×”, ×§×‘×œ×” ××˜×•××™×ª, ×©×™× ×•×™ ×¡×˜×˜×•×¡.</li>
            <li>×œ×•×’×™×§×ª ×¦×³××˜: append ×”×•×“×¢×”, ×”×¨×©××•×ª ××©×ª×ª×¤×™×.</li>
            <li>Payments: create/verify/capture + ×©××™×¨×ª Audit.</li>
          </ul>
        </div>
        <div class="card">
          <h4>Middlewares</h4>
          <ul>
            <li>Auth (JWT) â†’ <span class="mono">req.userId</span>.</li>
            <li>RBAC: ×’×™×©×” ×œâ€‘Admin ×‘×œ×‘×“.</li>
            <li>Validation: × ×™×§×•×™/×‘×“×™×§×ª ×§×œ×˜ ×œ×¤× ×™ DB.</li>
          </ul>
        </div>
        <div class="card">
          <h4>DB Layer (Mongoose)</h4>
          <ul>
            <li>Schema ×¢× indexes (×œ××©×œ status, helperId).</li>
            <li>atomic updates (findOneAndUpdate ×¢× ×ª× ××™×).</li>
            <li>Populate × ×§×•×“×ª×™ (×œ× ×œ×”×’×–×™× ×›×“×™ ×œ× ×œ×”×›×‘×™×“).</li>
          </ul>
        </div>
      </div>

      <h3>7.1 ×§×‘×œ×” ××˜×•××™×ª ×©×œ ×§×¨×™××” (×”×’× ×” ×§×¨×™×˜×™×ª)</h3>
      <pre>
// pseudocode
const accepted = await Request.findOneAndUpdate(
  { _id: requestId, status: "open" },
  { $set: { status: "accepted", helperId: userId, acceptedAt: now } },
  { new: true }
);

if (!accepted) throw Conflict("Request already accepted");</pre>

      <div class="callout">
        <strong>×œ××” ×–×” ×—×©×•×‘?</strong>
        ×–×” ××•× ×¢ ××¦×‘ ×©×©× ×™ ×¢×•×–×¨×™× ×™×§×‘×œ×• ××ª ××•×ª×” ×§×¨×™××” ×‘×•Ö¾×–×× ×™×ª,
        ×•×–×” ×‘×“×™×•×§ ×¡×•×’ ×”â€‘edge case ×©××¨××™×™×Ÿ ×‘×•×“×§ ×‘×¤×¨×•×™×§×˜×™× ×¢× realtime.
      </div>
    </section>

    <section id="admin">
      <h2>8) Admin â€” ×œ×•×— × ×™×”×•×œ ×•×”×¨×©××•×ª</h2>
      <p>
        Admin ××™×•×¢×“ ×œ× ×™×˜×•×¨ ×•×œ×‘×§×¨×”: ×œ×¨××•×ª ×§×¨×™××•×ª ×¤×¢×™×œ×•×ª, ××©×ª××©×™× ×‘×¢×™×™×ª×™×™×, ×ª×©×œ×•××™×, ×•×“×™×•×•×—×™×.
        ×–×• ×©×›×‘×” ×©××¢×œ×” ××©××¢×•×ª×™×ª ××ª â€œ×¨××ª ×”××•×¦×¨â€ ×•××¨××” ×—×©×™×‘×” ×ª×¤×¢×•×œ×™×ª.
      </p>

      <div class="grid">
        <div class="card">
          <h4>×¤×™×¦â€™×¨×™× ××¨×›×–×™×™×</h4>
          <ul>
            <li>Dashboard: counters + ×¨×©×™××•×ª ×œ×¤×™ ×¡×˜×˜×•×¡.</li>
            <li>Users: ×—×™×¤×•×©, ×¦×¤×™×™×” ×‘×“×™×¨×•×’, ×—×¡×™××”.</li>
            <li>Payments: Audit ×œ×¤×™ requestId.</li>
            <li>Reports: ×˜×™×¤×•×œ ×‘×“×™×•×•×—×™×/×ª×›× ×™×.</li>
          </ul>
        </div>
        <div class="card">
          <h4>×’×™×©×” ××•×’×‘×œ×ª</h4>
          <ul>
            <li>×‘â€‘Client: Protected Route ×œâ€‘<span class="mono">/admin</span>.</li>
            <li>×‘â€‘Server: Middleware <span class="mono">requireAdmin</span>.</li>
            <li>××¤×©×¨ ×’× allowlist ×©×œ ××™××™×™×œ×™× (×©×›×‘×ª ×”×’× ×” × ×•×¡×¤×ª).</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="security">
      <h2>9) ××‘×˜×—×”</h2>

      <h3>9.1 ××™××•×ª ×•×”×¨×©××•×ª</h3>
      <div class="grid">
        <div class="card">
          <h4>JWT</h4>
          <ul>
            <li>×˜×•×§×Ÿ ×—×ª×•× ×‘×©×¨×ª, ×›×•×œ×œ userId + role.</li>
            <li>××•××œ×¥: HttpOnly cookie ××• storage ×××•×‘×˜×— + refresh strategy.</li>
          </ul>
        </div>
        <div class="card">
          <h4>RBAC</h4>
          <ul>
            <li>Role: user/helper/admin.</li>
            <li>×‘â€‘Admin endpoints: 403 ×× ××™×Ÿ ×”×¨×©××”.</li>
          </ul>
        </div>
      </div>

      <h3>9.2 ×”×§×©×—×”</h3>
      <ul>
        <li><b>Validation</b> ×œ×›×œ input (×’× ×‘×¦×³××˜) + sanitation ×œ×× ×™×¢×ª XSS.</li>
        <li><b>Rate limit</b> ×œâ€‘login / registration / location updates.</li>
        <li><b>CORS</b> ×¢× origin ××•×¨×©×” ×‘×œ×‘×“.</li>
        <li><b>Secrets</b> ×‘â€‘ENV ×•×œ× ×‘×§×•×“ (JWT_SECRET, DB_URI, keys ×©×œ ×ª×©×œ×•×).</li>
      </ul>

      <h3>9.3 Payments â€” ×›×œ×œ×™ ×–×”×‘</h3>
      <div class="callout">
        <strong>×”×’× ×” ×¢×œ ×›×¡×£ = ×”×’× ×” ×¢×œ ×××•×Ÿ</strong>
        <ul>
          <li>×”×¡×›×•× ×•×”××˜×‘×¢ × ×§×‘×¢×™× <b>×‘×©×¨×ª</b> (×œ× ×‘â€‘Client).</li>
          <li>××™××•×ª ×¡×˜×˜×•×¡ ×ª×©×œ×•× ××•×œ ×¡×¤×§ (verify/capture/webhook) ×œ×¤× ×™ ×¡×™××•×Ÿ â€œ×©×•×œ×â€.</li>
          <li>Audit trail: ×©××™×¨×ª providerOrderId + timestamps + ××™ ×©×™×œ× ×¢×œ ××™×–×• ×§×¨×™××”.</li>
          <li>××˜×‘×¢: ×× ×”××¢×¨×›×ª ×¢×•×‘×“×ª ×‘×©×§×œ×™× â€” ×œ×©××•×¨ <b>currency=ILS</b> ×‘×§×•× ×¤×™×’ ×•×‘â€‘payload.</li>
        </ul>
      </div>
    </section>

    <div class="pagebreak"></div>

    <section id="flows">
      <h2>10) ×–×¨×™××•×ª ××¢×¨×›×ª (Flows)</h2>

      <h3>10.1 State Machine ×œ×§×¨×™××”</h3>
      <pre>
open
  â”œâ”€(accept)â”€â”€> accepted
  â”‚              â””â”€(start)â”€â”€> in_progress
  â”‚                              â”œâ”€(complete)â”€â”€> done  â”€â”€> rating â”€â”€> payment(optional)
  â”‚                              â””â”€(cancel)â”€â”€> canceled
  â””â”€(cancel)â”€â”€> canceled</pre>

      <h3>10.2 Flow: ×™×¦×™×¨×ª ×§×¨×™××” â†’ ×§×‘×œ×” â†’ ×¦×³××˜ â†’ ××™×§×•× â†’ ×¡×™×•×</h3>
      <pre>
[Driver] -> (REST) create request
[Server] -> DB save + respond
[Helper] sees request on map
[Helper] -> (REST/Socket) accept
[Server] atomic update + create/join chat room
[Both] -> (Socket) chat + location + status
[Helper] -> complete
[Driver] -> rate
[Driver] -> pay (optional)</pre>

      <h3>10.3 Flow: ×ª×©×œ×•× (ILS) â€” ××‘× ×” ×‘×˜×•×—</h3>
      <pre>
(1) POST /payments/create
    server: validates request is done + user is allowed
    server: creates Payment(status=created, currency=ILS)
(2) Client approves with provider
(3) POST /payments/verify (or webhook)
    server: verifies provider response + captures if needed
    server: updates Payment(status=captured/failed)
(4) Admin: audit payments by requestId/userId</pre>
    </section>

    <section id="api">
      <h2>11) API â€” ×ª×™×¢×•×“ ×•×¢×§×¨×•× ×•×ª</h2>
      <p>
        ×›××Ÿ ××•×¦×’ â€œ×—×•×–×” APIâ€ ×‘×¦×•×¨×” ×©××¨××™×™× ×™× ××•×”×‘×™×:
        ×§×•× ×¡×™×¡×˜× ×˜×™×•×ª, ×’×¨×¡××•×ª, ×©×’×™××•×ª, ×•×”×¨×©××•×ª.
      </p>

      <h3>11.1 ×§×•× ×‘× ×¦×™×•×ª</h3>
      <ul>
        <li>Base: <span class="mono">/api/v1</span></li>
        <li>Authorization: <span class="mono">Bearer &lt;jwt&gt;</span></li>
        <li>Response envelope: <span class="mono">{ success, message, data }</span></li>
      </ul>

      <div class="grid">
        <div class="card">
          <h4>Auth</h4>
          <pre>
POST /api/v1/auth/register
POST /api/v1/auth/login
GET  /api/v1/auth/me</pre>
        </div>
        <div class="card">
          <h4>Requests</h4>
          <pre>
GET  /api/v1/requests?status=open
POST /api/v1/requests
GET  /api/v1/requests/:id
POST /api/v1/requests/:id/accept
POST /api/v1/requests/:id/status</pre>
        </div>
        <div class="card">
          <h4>Chat</h4>
          <pre>
GET  /api/v1/requests/:id/chat
POST /api/v1/requests/:id/chat/messages</pre>
        </div>
        <div class="card">
          <h4>Ratings</h4>
          <pre>
POST /api/v1/requests/:id/rate
GET  /api/v1/users/:id/ratings</pre>
        </div>
        <div class="card">
          <h4>Payments (ILS)</h4>
          <pre>
POST /api/v1/payments/create
POST /api/v1/payments/verify
GET  /api/v1/payments/:requestId</pre>
        </div>
        <div class="card">
          <h4>Admin</h4>
          <pre>
GET  /api/v1/admin/requests
GET  /api/v1/admin/users
GET  /api/v1/admin/payments
POST /api/v1/admin/users/:id/ban</pre>
        </div>
      </div>

      <div class="callout">
        <strong>×“×’×© ×œ×¨××™×•×Ÿ</strong>
        ×œ×¦×™×™×Ÿ ××™×š ××ª×” ××‘×“×™×œ ×‘×™×Ÿ endpoints ×¨×’×™×œ×™× ×œâ€‘admin-only,
        ×•××™×š ××ª×” ××˜×¤×œ ×‘×©×’×™××•×ª × ×¤×•×¦×•×ª: 401 (×œ× ××—×•×‘×¨), 403 (××™×Ÿ ×”×¨×©××”), 409 (×§×¨×™××” ×›×‘×¨ ×”×ª×§×‘×œ×”).
      </div>
    </section>

    <section id="testing">
      <h2>12) ×‘×“×™×§×•×ª ×•â€‘Troubleshooting</h2>
      <h3>12.1 ×‘×“×™×§×•×ª</h3>
      <ul>
        <li><b>Unit</b>: ×—×™×©×•×‘ ××¨×—×§/ETA, ×•×œ×™×“×¦×™×•×ª.</li>
        <li><b>Integration</b>: ×™×¦×™×¨×ª ×§×¨×™××” â†’ ×§×‘×œ×” â†’ ×©×™× ×•×™ ×¡×˜×˜×•×¡ â†’ ×‘×“×™×§×ª DB.</li>
        <li><b>E2E</b>: ×©× ×™ ××©×ª××©×™× ×‘×“×¤×“×¤×Ÿ (Driver + Helper) ×¢× socket ×¤×¢×™×œ.</li>
      </ul>

      <h3>12.2 ×ª×§×œ×•×ª × ×¤×•×¦×•×ª</h3>
      <div class="grid">
        <div class="card">
          <h4>Socket ×œ× ××ª×—×‘×¨</h4>
          <ul>
            <li>Origin/CORS ×œ× ×ª×•××.</li>
            <li>×˜×•×§×Ÿ ×œ× × ×©×œ×— ×‘â€‘handshake.</li>
            <li>WSS ×‘×¤×¨×™×¡×” (HTTPS) ××•×œ WS ××§×•××™.</li>
          </ul>
        </div>
        <div class="card">
          <h4>×ª×©×œ×•× â‚ª ×”×•×¤×š ×œâ€‘$</h4>
          <ul>
            <li>currency ×œ× ××•×’×“×¨ ×œâ€‘ILS ××¦×œ ×”×¡×¤×§/×‘â€‘payload.</li>
            <li>×”×©×¨×ª ×¦×¨×™×š ×œ×§×‘×•×¢ currency ×•×œ× ×œ×§×‘×œ ××”â€‘Client.</li>
            <li>format ×¡×›×•×: "50.00" ×œ×¤×™ ×“×¨×™×©×ª ×¡×¤×§.</li>
          </ul>
        </div>
        <div class="card">
          <h4>Double Accept</h4>
          <ul>
            <li>×—×•×¡×¨ atomic update ×‘â€‘DB.</li>
            <li>×¤×ª×¨×•×Ÿ: ×ª× ××™ <span class="mono">status=open</span> ×‘×ª×•×š update + 409.</li>
          </ul>
        </div>
        <div class="card">
          <h4>×”×¦×¤×” ×©×œ ××™×§×•× ×—×™</h4>
          <ul>
            <li>Throttle ×‘â€‘Client + rate limit ×‘â€‘Server.</li>
            <li>×©××•×¨ lastLocation ×•×œ× â€œ×›×œ × ×§×•×“×”â€ (××• ×œ×©××•×¨ ×”×™×¡×˜×•×¨×™×” ××•×’×‘×œ×ª).</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="deployment">
      <h2>13) ×”×¨×¦×” ×•×¤×¨×™×¡×”</h2>
      <h3>13.1 ×“×¨×™×©×•×ª</h3>
      <ul>
        <li>Node.js + npm</li>
        <li>MongoDB (Atlas/Local)</li>
        <li>ENV: JWT, DB, Payment keys</li>
      </ul>

      <h3>13.2 ×“×•×’××ª ENV</h3>
      <pre>
# server/.env
PORT=5000
MONGO_URI=mongodb+srv://...
JWT_SECRET=...
CLIENT_ORIGIN=http://localhost:5173

# payments
PAYMENT_PROVIDER=paypal
PAYMENT_CURRENCY=ILS
PAYPAL_CLIENT_ID=...
PAYPAL_SECRET=...</pre>

      <h3>13.3 ×”×¨×¦×”</h3>
      <pre>
cd server
npm i
npm run dev

cd ../client
npm i
npm run dev</pre>
    </section>

    <div class="pagebreak"></div>

    <section id="screens">
      <h2>14) ×¦×™×œ×•××™ ××¡×š / Mockups</h2>
      <p>
        ×›××Ÿ ×”×•×¡×¤×ª×™ <b>Mockups ××§×¦×•×¢×™×™×</b> (Inline SVG) ×©××“××™× ××ª ×”××¡×›×™× ×”××¨×›×–×™×™×.
        ×× ×ª×¢×œ×” ×›××Ÿ ×¦×™×œ×•××™ ××¡×š ×××™×ª×™×™× ××”××¤×œ×™×§×¦×™×” (××¤×”/×¦×³××˜/××“××™×Ÿ/×ª×©×œ×•×) â€”
        ××•×›×œ ×œ×”×—×œ×™×£ ××ª ×”â€‘Mockups ×‘×ª××•× ×•×ª ×”×××™×ª×™×•×ª ×•×œ×”×˜××™×¢ ××•×ª×Ÿ ×›×š ×©×”×›×•×œ ×™×™×©××¨ ×‘×§×•×‘×¥ HTML ××—×“.
      </p>

      <div class="grid">
        <div class="card">
          <h4>××¡×š ××¤×” (Home)</h4>
          <figure class="shot">
            <div class="shotbar"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="cap">××¤×” + ×¨×©×™××ª ×§×¨×™××•×ª</span></div>
            <div class="shotbody">
              <svg viewBox="0 0 520 300" width="100%" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <style>
                    .s1{fill:#f8fafc;stroke:#cbd5e1;stroke-width:2}
                    .s2{fill:#ffffff;stroke:#cbd5e1;stroke-width:2}
                    .txt{font-family:Arial, sans-serif; fill:#0f172a; font-size:12px}
                    .mut{font-family:Arial, sans-serif; fill:#475569; font-size:11px}
                    .pin{fill:#2563eb}
                    .road{stroke:#94a3b8;stroke-width:3;fill:none;opacity:.9}
                    .chip{fill:#dbeafe}
                  </style>
                </defs>

                <rect x="14" y="14" width="492" height="272" rx="16" class="s1"/>
                <rect x="28" y="28" width="330" height="244" rx="14" class="s2"/>
                <path d="M60 80 C120 60 170 120 230 95 C290 70 310 130 350 120" class="road"/>
                <path d="M70 170 C130 145 160 210 220 190 C280 170 300 230 350 210" class="road"/>
                <circle cx="110" cy="90" r="7" class="pin"/>
                <circle cx="250" cy="110" r="7" class="pin"/>
                <circle cx="190" cy="195" r="7" class="pin"/>

                <rect x="372" y="28" width="120" height="34" rx="10" class="s2"/>
                <text x="384" y="50" class="txt">ğŸ” ×—×™×¤×•×©</text>

                <rect x="372" y="72" width="120" height="200" rx="14" class="s2"/>
                <text x="384" y="95" class="txt"><tspan>×§×¨×™××•×ª ×¤×¢×™×œ×•×ª</tspan></text>
                <rect x="384" y="108" width="96" height="38" rx="10" fill="#fff" stroke="#e2e8f0"/>
                <text x="392" y="128" class="txt">×¤× ×¦×³×¨ â€¢ 1.2 ×§×´×</text>
                <text x="392" y="142" class="mut">status: open</text>

                <rect x="384" y="154" width="96" height="38" rx="10" fill="#fff" stroke="#e2e8f0"/>
                <text x="392" y="174" class="txt">××¦×‘×¨ â€¢ 2.0 ×§×´×</text>
                <text x="392" y="188" class="mut">status: open</text>

                <rect x="28" y="238" width="150" height="34" rx="12" fill="#2563eb"/>
                <text x="44" y="260" font-family="Arial" font-size="12" fill="#fff">â• ×™×¦×™×¨×ª ×§×¨×™××ª ×¢×–×¨×”</text>
                <rect x="188" y="238" width="170" height="34" rx="12" class="chip"/>
                <text x="202" y="260" class="txt">ğŸ§­ ××¨×—×§ + ETA (×‘×¦×³××˜)</text>
              </svg>
            </div>
          </figure>
        </div>

        <div class="card">
          <h4>××¡×š ×¦×³××˜ + ETA</h4>
          <figure class="shot">
            <div class="shotbar"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="cap">×¦×³××˜ ×¤×¨×˜×™ + ×¡×˜×˜×•×¡/ETA</span></div>
            <div class="shotbody">
              <svg viewBox="0 0 520 300" width="100%" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <style>
                    .bg{fill:#fff;stroke:#cbd5e1;stroke-width:2}
                    .hdr{fill:#f8fafc;stroke:#e2e8f0;stroke-width:2}
                    .b1{fill:#dbeafe}
                    .b2{fill:#dcfce7}
                    .txt{font-family:Arial, sans-serif; fill:#0f172a; font-size:12px}
                    .mut{font-family:Arial, sans-serif; fill:#475569; font-size:11px}
                  </style>
                </defs>
                <rect x="14" y="14" width="492" height="272" rx="16" class="bg"/>
                <rect x="14" y="14" width="492" height="52" rx="16" class="hdr"/>
                <text x="28" y="44" class="txt">×¦×³××˜ â€¢ ×‘×§×©×” #A12 â€¢ ×¡×˜×˜×•×¡: in_progress</text>
                <rect x="330" y="26" width="160" height="28" rx="12" fill="#ecfdf5" stroke="#a7f3d0" stroke-width="2"/>
                <text x="342" y="45" class="txt">ETA: 7 ×“×§×•×ª â€¢ 1.8 ×§×´×</text>

                <rect x="34" y="82" width="260" height="44" rx="12" class="b1"/>
                <text x="48" y="108" class="txt">×”×™×™, ×× ×™ ×œ×™×“ ×”××—×œ×£. ××” ×”×ª×§×œ×”?</text>

                <rect x="220" y="136" width="250" height="44" rx="12" class="b2"/>
                <text x="236" y="162" class="txt">×¤× ×¦×³×¨ ×‘×’×œ×’×œ ×”×§×“××™. ×ª×•×“×” ×©×‘××ª!</text>

                <rect x="34" y="190" width="280" height="44" rx="12" class="b1"/>
                <text x="48" y="216" class="txt">×‘×“×¨×š ××œ×™×š, ×©×•×œ×— ××™×§×•× ×—×™ ×¢×›×©×™×•.</text>

                <rect x="34" y="246" width="360" height="28" rx="12" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="2"/>
                <text x="48" y="266" class="mut">×”×§×œ×“ ×”×•×“×¢×”â€¦</text>
                <rect x="404" y="246" width="86" height="28" rx="12" fill="#2563eb"/>
                <text x="430" y="266" font-family="Arial" font-size="12" fill="#fff">×©×œ×—</text>
              </svg>
            </div>
          </figure>
        </div>

        <div class="card">
          <h4>××¡×š ×ª×©×œ×•× (ILS)</h4>
          <figure class="shot">
            <div class="shotbar"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="cap">Checkout ×œ××—×¨ ×¡×™×•× + ××™××•×ª ×‘×©×¨×ª</span></div>
            <div class="shotbody">
              <svg viewBox="0 0 520 300" width="100%" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <style>
                    .bg{fill:#fff;stroke:#cbd5e1;stroke-width:2}
                    .box{fill:#f8fafc;stroke:#e2e8f0;stroke-width:2}
                    .txt{font-family:Arial, sans-serif; fill:#0f172a; font-size:12px}
                    .mut{font-family:Arial, sans-serif; fill:#475569; font-size:11px}
                  </style>
                </defs>
                <rect x="14" y="14" width="492" height="272" rx="16" class="bg"/>
                <text x="28" y="42" class="txt">×ª×©×œ×•× ××•×¤×¦×™×•× ×œ×™ ×œ××—×¨ ×”×¢×–×¨×”</text>

                <rect x="28" y="62" width="464" height="70" rx="14" class="box"/>
                <text x="44" y="92" class="txt">×¡×›×•×</text>
                <text x="44" y="116" class="mut">×”×©×¨×ª ×§×•×‘×¢: currency=ILS, amount=50.00</text>
                <text x="420" y="102" font-family="Arial" font-size="18" fill="#0f172a">â‚ª 50</text>

                <rect x="28" y="144" width="464" height="86" rx="14" class="box"/>
                <text x="44" y="174" class="txt">×¡×¤×§ ×ª×©×œ×•×</text>
                <text x="44" y="198" class="mut">Create Order â†’ Approve â†’ Capture/Verify</text>
                <rect x="44" y="206" width="160" height="28" rx="12" fill="#2563eb"/>
                <text x="78" y="226" font-family="Arial" font-size="12" fill="#fff">×”××©×š ×œ×ª×©×œ×•×</text>

                <rect x="28" y="242" width="464" height="34" rx="12" fill="#ecfdf5" stroke="#a7f3d0" stroke-width="2"/>
                <text x="44" y="264" class="txt">âœ” ×œ××—×¨ ××™×©×•×¨: ×”×©×¨×ª ××××ª ×•××¢×“×›×Ÿ Payment(status=captured)</text>
              </svg>
            </div>
          </figure>
        </div>

        <div class="card">
          <h4>Admin Dashboard</h4>
          <figure class="shot">
            <div class="shotbar"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="cap">× ×™×”×•×œ ×§×¨×™××•×ª / ××©×ª××©×™× / ×ª×©×œ×•××™×</span></div>
            <div class="shotbody">
              <svg viewBox="0 0 520 300" width="100%" xmlns="http://www.w3.org/2000/svg">
                <defs>
                  <style>
                    .bg{fill:#fff;stroke:#cbd5e1;stroke-width:2}
                    .side{fill:#0b1220}
                    .card{fill:#f8fafc;stroke:#e2e8f0;stroke-width:2}
                    .txt{font-family:Arial, sans-serif; fill:#0f172a; font-size:12px}
                    .w{font-family:Arial, sans-serif; fill:#fff; font-size:12px}
                    .mut{font-family:Arial, sans-serif; fill:#475569; font-size:11px}
                  </style>
                </defs>
                <rect x="14" y="14" width="492" height="272" rx="16" class="bg"/>
                <rect x="14" y="14" width="130" height="272" rx="16" class="side"/>
                <text x="30" y="44" class="w">Admin</text>
                <text x="30" y="76" class="w">â€¢ Dashboard</text>
                <text x="30" y="100" class="w">â€¢ Requests</text>
                <text x="30" y="124" class="w">â€¢ Users</text>
                <text x="30" y="148" class="w">â€¢ Payments</text>
                <text x="30" y="172" class="w">â€¢ Reports</text>

                <text x="160" y="44" class="txt">×¡×˜×˜×•×¡ ××¢×¨×›×ª</text>

                <rect x="160" y="60" width="150" height="70" rx="14" class="card"/>
                <text x="176" y="88" class="txt">Open</text>
                <text x="176" y="112" class="mut">12 ×§×¨×™××•×ª</text>

                <rect x="320" y="60" width="170" height="70" rx="14" class="card"/>
                <text x="336" y="88" class="txt">In Progress</text>
                <text x="336" y="112" class="mut">5 ×§×¨×™××•×ª</text>

                <rect x="160" y="144" width="330" height="120" rx="14" class="card"/>
                <text x="176" y="172" class="txt">Requests (Latest)</text>
                <text x="176" y="196" class="mut">#A12 â€¢ ×¤× ×¦×³×¨ â€¢ accepted</text>
                <text x="176" y="218" class="mut">#A11 â€¢ ×“×œ×§ â€¢ open</text>
                <text x="176" y="240" class="mut">#A10 â€¢ ××¦×‘×¨ â€¢ done</text>
              </svg>
            </div>
          </figure>
        </div>
      </div>

      <div class="callout">
        <strong>×œ×”×—×œ×¤×ª ×”â€‘Mockups ×‘×¦×™×œ×•××™ ××¡×š ×××™×ª×™×™×</strong>
        ×¤×©×•×˜ ×”×¢×œ×” ×›××Ÿ ×ª××•× ×•×ª (PNG/JPG) ×©×œ ×”××¡×›×™×:
        Map, Create Request, Chat, Payment, Admin. ×× ×™ ××˜××™×¢ ××•×ª×Ÿ ×‘×ª×•×š ××•×ª×• ×§×•×‘×¥ HTML
        (×›×•×œ×œ ×“×—×™×¡×” ×•×”××¨×” ×œâ€‘data-uri ×›×“×™ ×©×™×™×©××¨ ×§×•×‘×¥ ××—×“).
      </div>
    </section>

    <section id="summary">
      <h2>15) ×¡×™×›×•× ×•×”××©×š ×“×¨×š</h2>
      <p>
        ×”×¤×¨×•×™×§×˜ ××¦×™×’ ×©×™×œ×•×‘ â€œ×‘×•×’×¨â€ ×©×œ Fullâ€‘Stack:
        UI ××•×“×¨× ×™, API ××¡×•×“×¨, realtime, DB, ×”×¨×©××•×ª, ×•×ª×©×œ×•××™× â€” ×¢× ×—×©×™×‘×” ×¢×œ ×××•×Ÿ ×•×‘×˜×™×—×•×ª.
        ×‘×¨××ª ×¨××™×•×Ÿ ×˜×›× ×™, ×–×” ×‘×“×™×•×§ ×¡×•×’ ×”××¢×¨×›×ª ×©××¨××” ×™×›×•×œ×ª ×ª×›× ×•×Ÿ ×•×œ× ×¨×§ â€œ×›×ª×™×‘×ª ××¡×›×™×â€.
      </p>

      <div class="grid">
        <div class="card">
          <h4>× ×§×•×“×•×ª ×—×–×§×•×ª ×œ×”×¦×’×” ×‘×¨××™×•×Ÿ</h4>
          <ul>
            <li>×ª×›× ×•×Ÿ Lifecycle ××œ× ×œ×§×¨×™××” (×›×•×œ×œ edge cases).</li>
            <li>Realtime ×××™×Ÿ ×©××’×•×‘×” ×‘â€‘DB.</li>
            <li>Admin + Audit = ×—×©×™×‘×” ××•×¦×¨×™×ª.</li>
            <li>Payments ×××•×‘×˜×— ×¢× ××˜×‘×¢ ILS.</li>
          </ul>
        </div>
        <div class="card">
          <h4>×¨×¢×™×•× ×•×ª ×œ×©×œ×‘ ×”×‘×</h4>
          <ul>
            <li>××œ×’×•×¨×™×ª× Match ××©×•×¤×¨ (××¨×—×§ + ×“×™×¨×•×’ + ×–××™× ×•×ª).</li>
            <li>Push notifications ×œ× ×™×™×“.</li>
            <li>× ×™×ª×•×— × ×ª×•× ×™×: ×–×× ×™ ×”×’×¢×”, heatmap ×©×œ ××–×•×¨×™ ×ª×§×œ×•×ª.</li>
            <li>Moderation ××ª×§×“× ×œ×“×™×•×•×—×™×.</li>
          </ul>
        </div>
      </div>

      <div class="foot">
        <div><b>Helper on the Way â€” ×¡×¤×¨ ×¤×¨×•×™×§×˜ ××œ×</b></div>
        <div>× ×‘× ×” ×›â€‘HTML ×™×—×™×“ (RTL) ×¢× ×¢×™×¦×•×‘ ××§×¦×•×¢×™, ×ª×¨×©×™××™× ×•â€‘Mockups.</div>
      </div>
    </section>

  </main>
</body>
</html>
